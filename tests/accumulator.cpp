#include "tests.h"
#include "../include/muu/accumulator.h"
#include "../include/muu/float16.h"

MUU_PUSH_WARNINGS
MUU_DISABLE_FLOAT_WARNINGS

MUU_PRAGMA_MSVC(float_control(precise, on, push))

template <typename T>
struct float_test_data;

template <>
struct float_test_data<long double>
{
	static constexpr long double values[] =
	{
		-0.750992371854L,	0.802347070448L,	-0.239038651189L,	0.457577056275L,	0.178008567225L,	0.375903867094L,	-0.008123188228L,	-0.606514311242L,
		0.474117291840L,	-0.318814028186L,	0.841334734018L,	-0.029553461752L,	-0.159810675084L,	0.279951436902L,	0.883710749987L,	0.082430463441L,
		-0.634819435702L,	-0.097824661976L,	0.699514804353L,	0.514832535540L,	0.871044351987L,	0.401226754818L,	0.556491907514L,	0.679115225501L,
		0.682166120338L,	-0.744790031031L,	0.528163680594L,	0.973262207444L,	-0.115824662427L,	0.877815437584L,	0.271736636006L,	0.735154503750L,
		0.458082522483L,	0.403873651683L,	0.363217633249L,	0.797229691830L,	0.171610914495L,	0.532711592604L,	0.607026704592L,	0.722796817673L,
		0.311377076988L,	0.272466987086L,	0.846653932574L,	0.420930588281L,	0.763723028596L,	0.480423429905L,	0.275234446425L,	0.258413057149L,
		0.197009930716L,	0.937281511617L,	0.204515894302L,	-0.648130458408L,	0.429535023296L,	0.144684673035L,	0.818050635709L,	0.607943987830L,
		0.759916129255L,	-0.133382513483L,	-0.851626862683L,	0.472039651234L,	0.332664901615L,	0.532269768355L,	-0.029703335185L,	0.003017134857L,
		0.801078430753L,	0.654356703173L,	-0.030843598823L,	0.679863417444L,	0.323458758060L,	0.535661010448L,	-0.456109916519L,	0.567559062270L,
		-0.055478062338L,	0.324638780640L,	0.667943329829L,	0.848907154344L,	0.423168716066L,	0.696579462672L,	0.111684940106L,	0.460289640099L,
		0.865617428964L,	0.729695921126L,	-0.805806540259L,	0.201729690143L,	0.685410027701L,	0.835043682506L,	0.373915597407L,	0.104835024114L,
		0.119907613577L,	0.610712415248L,	0.421227620313L,	-0.122540920111L,	-0.130601309755L,	0.915336564081L,	0.588844753315L,	-0.875710200094L,
		0.787175104310L,	-0.048268111541L,	0.116506458871L,	0.115147493096L,	-0.891910867223L,	0.404647579558L,	-0.815598020582L,	0.073313148314L,
		-0.266600631645L,	0.805931188741L,	0.547549985395L,	-0.217435329303L,	0.615525766899L,	0.530113919748L,	0.806850176400L,	0.879140086689L,
		-0.458629320062L,	0.905222778202L,	-0.251582885105L,	-0.772185767366L,	0.281648493485L,	0.644172576833L,	0.535746073673L,	0.343227375152L,
		0.476279608426L,	0.206024791295L,	0.079773620728L,	-0.967667517852L,	0.443076734604L,	-0.829056192884L,	0.530726235895L,	0.731954320346L,
		0.706179338017L,	0.969285464100L,	0.605621625582L,	-0.948311550547L,	-0.006296566064L,	0.241943565030L,	0.860293495769L,	-0.266095809963L,
		0.467494639960L,	0.290346790520L,	0.608752141862L,	0.781460207718L,	0.553145236120L,	0.910428854898L,	-0.026664059602L,	0.667104932710L,
		0.885038443511L,	0.252658388455L,	0.432733067356L,	0.090016796271L,	0.478384673476L,	0.464960811768L,	-0.252095757054L,	0.582346631920L,
		0.394358627479L,	-0.397156517139L,	0.312061972315L,	0.841462557510L,	0.090585792181L,	-0.648437130825L,	0.300181982997L,	-0.932776631889L,
		0.364240419475L,	0.119129312418L,	0.080303882395L,	-0.679305568089L,	0.027789152258L,	0.248877097370L,	0.751431169578L,	0.570257821889L,
		0.797573235209L,	0.351784604292L,	0.591559804412L,	0.805007290801L,	0.109406126930L,	-0.487478041836L,	0.511681845998L,	0.015999934001L,
		0.332239718326L,	0.850947475295L,	0.328175511500L,	0.848768298462L,	0.248431793230L,	0.584566417429L,	0.005567409473L,	0.768671578408L,
		-0.864632844557L,	0.720944317376L,	0.932127616562L,	0.275586370686L,	0.422555016147L,	0.806392047351L,	0.896392790249L,	0.735799416136L,
		0.477753517746L,	0.881738173550L,	0.431140946903L,	-0.362644498915L,	0.376508973457L,	-0.151318628374L,	-0.992753428089L,	0.864767333810L,
		0.291191911740L,	-0.532671909921L,	0.019587657990L,	0.589335067317L,	0.639672786956L,	-0.545834309144L,	0.692582116357L,	-0.952754310002L,
		-0.588048339262L,	0.329260400596L,	-0.706882994899L,	0.786413827230L,	0.563135073319L,	-0.228882923519L,	0.496531097090L,	0.501261663243L,
		0.241330708493L,	-0.800601403683L,	0.802175283118L,	-0.165697437635L,	-0.858373853124L,	-0.198585296550L,	0.153110330940L,	-0.962291805757L,
		0.635470540794L,	0.736114070631L,	-0.894222829305L,	0.902640091474L,	-0.722741827070L,	0.376582903273L,	0.865227767340L,	0.354964786187L,
		0.751796373712L,	0.988097584866L,	0.537817558464L,	-0.950214554900L,	0.733861701667L,	-0.240936330317L,	0.210740425401L,	0.818536166625L,
		0.181972904236L,	0.123093289662L,	0.708016825424L,	-0.161840122849L,	0.095616455489L,	0.796273189684L,	0.918374031776L,	0.279338204919L,
		0.238666804908L,	0.237050440360L,	0.100223129435L,	-0.100412750047L,	0.576413403571L,	0.140615871547L,	0.238620767744L,	-0.510495335373L,
		0.089255895916L,	0.692447230438L,	0.962982896874L,	0.105739234225L,	-0.881339789814L,	0.999301446883L,	0.173442111936L,	0.204746536834L,
		0.720787601195L,	0.358033087681L,	0.725746004998L,	0.581954682860L,	-0.839871896722L,	-0.811159920656L,	0.442300729423L,	0.584242727988L,
		-0.836058643399L,	0.192373289031L,	0.667420570907L,	-0.835861442596L,	0.429715455023L,	0.064428388386L,	0.225631804089L,	-0.753305855881L,
		0.131864765705L,	0.247203566747L,	0.028680497482L,	0.918630344350L,	0.848948472506L,	0.759998216244L,	-0.971144763773L,	0.111326289777L,
		0.729648969710L,	0.106793194351L,	-0.311121235118L,	-0.447510137691L,	0.608806715858L,	-0.669802676633L,	0.547768841726L,	0.243666399223L,
		0.909805707588L,	-0.385784098877L,	0.965250474118L,	0.074045702047L,	0.444279540098L,	0.173014225836L,	0.428417413306L,	-0.940805363008L,
		-0.607297455409L,	0.250074874149L,	0.593185613292L,	0.290906608813L,	-0.532161273041L,	-0.043306546307L,	0.971231598193L,	0.200519234395L,
		0.667627406055L,	0.175028816649L,	-0.664731998191L,	0.252927520188L,	-0.372312121506L,	0.868601416299L,	0.130639885700L,	0.441134670886L,
		0.429713421579L,	0.495180540055L,	0.436750454842L,	0.385574062875L,	-0.766851458681L,	0.283725612212L,	0.528250629514L,	0.174212622633L,
		-0.739486286902L,	0.661748409793L,	-0.807128700275L,	0.403270589873L,	0.312820973507L,	0.860874963938L,	0.960427410547L,	0.777381734180L,
		-0.811072515832L,	-0.710269701944L,	0.076739368768L,	-0.496372194755L,	0.241368663138L,	-0.451583582002L,	0.527963427764L,	0.646738256499L,
		-0.745247334636L,	-0.946085973433L,	0.438914796040L,	0.321116886389L,	0.507583349593L,	0.760286303160L,	0.033995190718L,	0.097225965110L,
		0.424231819191L,	0.880194872213L,	-0.526200671947L,	0.712710751372L,	0.756391542086L,	0.889124432696L,	0.929097905806L,	0.676887898151L,
		0.545580484660L,	0.862851156033L,	0.990246969166L,	-0.379452415822L,	0.739533905129L,	0.484209772513L,	0.979967236947L,	0.925550975304L,
		0.035528575179L,	0.715793516970L,	0.513034947419L,	-0.197488393638L,	0.626214842382L,	0.963540468059L,	-0.295045186042L,	-0.020513283542L,
		0.217628888756L,	0.498371112767L,	0.554333745757L,	0.268862554488L,	0.999859508621L,	0.157401238220L,	0.145965278326L,	0.923842046854L,
		0.941158472688L,	0.390554488501L,	0.053284400365L,	0.989662118559L,	0.370646728266L,	0.802572687532L,	0.264986164298L,	0.768898092613L,
		-0.053518674996L,	0.533846831599L,	0.535431427458L,	0.813532463671L,	0.839834280631L,	0.693888802746L,	-0.271492137594L,	0.438794887794L,
		-0.341113638473L,	0.129482705038L,	-0.366979439715L,	-0.994251496489L,	0.394617747082L,	-0.994100829057L,	0.990692887813L,	-0.771889003397L,
		-0.863778079645L,	0.956489184111L,	0.215594955410L,	0.888140628418L,	0.427713294449L,	0.270800196356L,	0.388582217490L,	-0.666073905366L,
		0.846314840179L,	-0.960945642521L,	0.685725822320L,	-0.356093566690L,	-0.262599014895L,	0.496405516335L,	0.292017680259L,	0.548773252697L,
		-0.484286285118L,	0.943774226091L,	0.453276872005L,	0.020121816557L,	0.357103485807L,	0.297684899850L,	0.319219342508L,	-0.004889911182L,
		0.881370301229L,	0.365391332659L,	0.157331591139L,	0.920135751447L,	0.552077248518L,	-0.473303805231L,	0.959552972948L,	0.460777145710L,
		0.306433813048L,	0.031426068446L,	0.473887921946L,	0.915354669546L,	0.591603743412L,	-0.674647870012L,	-0.810597528040L,	0.901923557892L,
		0.023716031051L,	0.681879141988L,	-0.707914992673L,	0.610772569270L,	-0.732466775128L,	0.047997665897L,	0.047226621059L,	-0.765257043653L,
		-0.587758918436L,	0.588611533685L,	-0.468403480221L,	0.434942684550L,	0.077703909288L,	0.298626743570L,	0.867718010883L,	0.438875341107L,
		-0.006168091896L,	0.439755385964L,	0.201042561200L,	-0.732476272611L,	0.269036773259L,	0.349907852420L,	0.443137030556L,	-0.388030098986L,
		0.705015176579L,	0.889668708404L,	-0.868199183708L,	-0.813153340488L,	0.029896578344L,	0.163796821108L,	0.169969687722L,	0.194855985539L,
		0.048438954932L,	0.235936611659L,	0.907621069587L,	0.956216323678L,	0.783423620862L,	0.077168764311L,	0.520322572871L,	0.227750923036L,
		-0.893631590698L,	-0.549456356598L,	0.011436738737L,	0.619369565165L,	0.144366321612L,	0.492208618445L,	-0.471167297729L,	0.053091000283L,
		-0.037314595611L,	-0.984971095793L,	0.667409639249L,	0.258614667272L,	-0.405526954524L,	-0.827527028012L,	0.465701984697L,	0.147196410111L,
		0.911630510819L,	0.952055626518L,	-0.525326072919L,	0.911318855120L,	0.131594071444L,	0.796703239151L,	-0.655320742312L,	0.363891416062L,
		-0.493401805789L,	0.445616148346L,	0.647008634844L,	0.615364567872L,	-0.675847776081L,	0.919450830911L,	0.269635459514L,	0.248913383332L,
		0.556491248741L,	0.151715879012L,	0.254353613513L,	0.340396325284L,	0.898605488984L,	0.104037719127L,	0.777689177564L,	0.410814180396L,
		0.414669765141L,	0.095496057300L,	0.938920924167L,	0.431016079448L,	-0.532523517154L,	0.521387349455L,	-0.820553754535L,	0.724325624854L,
		0.026053320021L,	0.150193876795L,	-0.758079412380L,	0.164803784190L,	0.645690712654L,	-0.554931653068L,	0.449492586141L,	0.962916549991L,
		0.676308125563L,	0.740564884669L,	0.002821870201L,	0.581521206417L,	-0.868775281638L,	0.376398452223L,	0.444328738007L,	-0.235624181421L,
		-0.556804662376L,	0.929552364714L,	0.362155569016L,	0.926744396778L,	0.151556917924L,	0.078356630692L,	0.361298446429L,	0.747767758888L,
		-0.194756856696L,	0.921665585347L,	0.039524327300L,	-0.576443878191L,	0.291043308388L,	-0.608284669060L,	0.146680698736L,	0.681824229917L,
		-0.173919051151L,	0.046431063495L,	0.429351633492L,	0.257351595249L,	0.038269182784L,	0.170712577623L,	0.254457596010L,	0.600132351155L,
		-0.870724404912L,	0.859720441722L,	0.175244801861L,	-0.895320734784L,	0.554337575596L,	0.784752624356L,	0.929724747341L,	0.166559354373L,
		0.765645208812L,	0.234623033697L,	0.476608520408L,	0.203020875439L,	-0.808491414717L,	0.596975689480L,	-0.487703107165L,	0.149156016441L,
		0.549849263616L,	0.739476516521L,	-0.327037872131L,	0.527262946908L,	0.317928684722L,	0.307012097921L,	0.120269216077L,	0.466171213865L,
		0.233204577400L,	0.308675173006L,	0.812224405288L,	0.675089863371L,	0.736520702091L,	-0.276353377167L,	0.912065208454L,	-0.341222564277L,
		0.835826874144L,	-0.111570026339L,	0.175185693917L,	0.522757792567L,	0.424973235364L,	0.442058846815L,	0.748325481916L,	0.597389333999L,
		-0.593745722722L,	0.695867595149L,	-0.514319975654L,	-0.236834874961L,	0.364783967243L,	0.723192901583L,	0.499663192326L,	-0.939779396000L,
		0.969195613278L,	0.483444515372L,	0.577245470246L,	0.462094781211L,	0.643452492295L,	0.422735239267L,	0.641257375950L,	0.586503618316L,
		0.118814091433L,	0.924601702627L,	0.673296866529L,	0.564508721435L,	0.933605333413L,	0.646699976190L,	0.654051259501L,	0.490369862744L,
		0.603289729621L,	-0.422656739431L,	0.109648817566L,	-0.848018566827L,	0.531265052420L,	-0.766528992847L,	-0.697139546222L,	-0.635874005977L,
		0.169893214180L,	0.348294303838L,	-0.580574179989L,	0.646659926200L,	-0.455982120460L,	0.153195633301L,	0.935142252777L,	0.337963973079L,
		0.460228252950L,	0.112744823159L,	-0.309822388308L,	0.263444483823L,	0.310309346344L,	-0.120099643112L,	-0.670751798285L,	0.561891414597L,
		-0.387008341480L,	0.668144913865L,	0.604122333421L,	-0.725059249792L,	0.759644829933L,	0.024839180436L,	0.633645217444L,	0.881195959064L,
		-0.326731339977L,	0.604914423054L,	0.859307320870L,	0.011000643470L,	0.696081373640L,	-0.237981729619L,	-0.906756725286L,	0.259490360435L,
		0.857180224259L,	0.138802114067L,	0.340481349072L,	0.027073668467L,	0.765052823394L,	0.039594231103L,	-0.345520357077L,	-0.694233726310L,
		-0.653444278989L,	0.098645264388L,	0.976796814524L,	0.572628990729L,	0.329152239803L,	0.068374804465L,	0.731842779159L,	0.530635190415L,
		0.251429564428L,	0.790937863016L,	0.998416419822L,	0.812105099786L,	0.275999040002L,	-0.139186011421L,	0.611242604845L,	-0.790779747420L,
		0.522325725806L,	0.030157762398L,	0.832198102469L,	0.436006711938L,	0.083846082992L,	0.681855267087L,	0.847195845533L,	0.132919760484L,
		0.959873708787L,	0.547650616722L,	0.227096865089L,	-0.863467399897L,	0.682054873967L,	0.466230743521L,	0.710126152009L,	0.136766376656L,
		0.761623680512L,	0.152114629244L,	0.444667634806L,	-0.656269836684L,	0.513380888644L,	0.025694445147L,	0.229045899793L,	0.387106678087L,
		0.308279470243L,	0.740625971844L,	0.586971569076L,	0.868977513484L,	0.388429362136L,	0.818755834842L,	0.652733295398L,	0.586542923204L,
		0.968547958540L,	0.509089454463L,	0.430880136389L,	-0.938744950455L,	0.087872567183L,	0.568349134106L,	0.864411326690L,	0.333011723624L,
		0.801537654885L,	0.615975205747L,	0.036831835607L,	-0.146473187171L,	0.889974390449L,	0.457599747561L,	0.693448012131L,	0.601830730742L,
		0.439300967023L,	0.465641694924L,	0.950230451688L,	0.004335769876L,	0.769757037824L,	-0.323025371217L,	0.240788370183L,	0.660020951643L,
		0.420440810854L,	-0.793349344711L,	0.095599737012L,	-0.093827291231L,	0.923432965350L,	-0.163978929842L,	0.122342192281L,	0.615156319176L,
		0.969730151878L,	0.651870455258L,	0.325182409387L,	0.546850988405L,	0.983835416377L,	0.353193502372L,	0.807804644788L,	0.780917087323L,
		0.841298783263L,	0.149806109343L,	0.988272304818L,	0.599434702391L,	0.165954211306L,	0.904689169813L,	0.019854486305L,	-0.450463572714L,
		0.360903695938L,	-0.390789171103L,	0.628859289406L,	-0.012198256825L,	0.071772758690L,	0.417783506571L,	0.932693374306L,	0.725770039653L,
		0.756766173547L,	0.189596654968L,	0.390223088659L,	-0.245272039996L,	0.071038342809L,	-0.408210550443L,	-0.074606540877L,	0.466863841703L,
		0.152649933327L,	0.235832113489L,	0.996785027089L,	-0.291327731982L,	-0.421633242667L,	0.891918672950L,	-0.030187906139L,	0.038329024567L,
		0.095038692729L,	0.167106907437L,	0.116487099978L,	0.572709273591L,	0.485815278234L,	0.044981789909L,	0.670521531352L,	0.529464182667L,
		0.409418747970L,	0.885713233123L,	0.114462572720L,	0.708824733182L,	0.523348553476L,	0.573844383885L,	0.223264439138L,	0.755690994212L,
		0.442691009512L,	-0.661598191608L,	0.809281895283L,	0.257153265217L,	0.487728394852L,	0.304957201983L,	0.565109053752L,	0.976546292273L,
		0.984266916186L,	-0.688288729746L,	0.776480595994L,	-0.961694236691L,	0.426603539194L,	0.095240148074L,	-0.749654387337L,	-0.230022807494L,
		0.942992782955L,	0.073997358135L,	0.998975143813L,	0.483822979797L,	0.471898547805L,	0.640353562956L,	0.253160874477L,	-0.238909271592L,
		0.552963474197L,	0.789912328212L,	0.850439248886L,	0.485983067283L,	-0.796544910053L,	0.222048076211L,	0.130691996219L,	-0.937201866132L,
		0.521556648219L,	0.786658657201L,	0.708257994757L,	-0.200593611631L,	0.416999885800L,	0.741552403356L,	0.557113533763L,	-0.990218085084L,
		0.334009841250L,	0.165208557922L,	0.651440323229L,	0.615436326916L,	0.482395874571L,	0.392132646889L,	0.624377456038L,	0.538952270195L,
		0.156167157695L,	0.613007459925L,	0.612246682312L,	0.908932372184L,	0.518843033200L,	-0.569755230851L,	0.992139715063L,	0.613987533754L,
		0.829181992724L,	0.391229785587L,	0.773164364877L,	0.363335196683L,	0.449201137187L,	-0.700086523949L,	-0.783632745534L,	0.892446764352L,
		-0.871530067659L,	0.192032986647L,	0.636219139111L,	0.267714610960L,	0.559371591024L,	0.450267259250L,	0.297541059852L,	0.764734564540L,
		-0.673184132347L,	0.536046185607L,	0.234988114624L,	-0.126357721269L,	0.042843771589L,	-0.582691745855L,	0.605930844512L,	0.632296028505L,
		0.314935088451L,	0.853257252962L,	0.081000512864L,	-0.819014136580L,	0.793277346730L,	-0.422354830203L,	0.107838199187L,	-0.540347012369L,
		0.955862856913L,	-0.965113769490L,	0.830496044924L,	0.375265659703L,	0.847366552012L,	0.010482719801L,	-0.768531874304L,	0.230217354400L,
		-0.878833064115L,	0.163157331058L,	0.238282070690L,	-0.618725061429L,	0.226714201414L,	0.375542406550L,	0.376059530561L,	0.516501585155L,
		0.138181128211L,	0.640526485064L,	0.533015585358L,	-0.983477394415L,	0.659027822499L,	0.319080264560L,	0.595844272393L,	0.479133073827L,
		0.676221418590L,	0.664188105525L,	0.495103000686L,	-0.614519689560L,	0.300504341756L,	0.657250330769L,	0.868629872609L,	-0.872691935482L,
		0.844707294897L,	0.801372167483L,	0.529968967306L,	0.803455545819L,	0.383627528741L,	0.595276219914L,	0.393332933420L,	0.280114010468L,
		0.362397656536L,	0.087003325216L,	-0.066059396265L,	0.811252952433L,	0.040229563155L,	0.334130790235L,	0.962627073530L,	-0.172097872827L,
		0.633154987915L,	0.141187726552L,	0.459706488467L,	-0.908446522002L,	-0.235490116915L,	0.072222449646L,	-0.830535798620L,	0.529374455963L,
		0.098643284828L,	0.990698985143L,	-0.202422785889L,	0.827758549273L,	0.672926761302L,	0.533114349265L,	0.480011734780L,	0.216370838355L,
		0.182996585682L,	0.758076283617L,	-0.066114410671L,	0.163871173417L,	-0.592729880997L,	0.918151480789L,	-0.391743982929L,	0.458773825272L,
		0.427411671864L,	0.101928857195L,	-0.072639413474L,	-0.904234431438L,	0.157771328084L,	0.416310526782L,	0.136109706823L,	-0.441628515326L,
							
							

	};

	static constexpr long double acceptable_sum_low		= 256.30600662175L;
	static constexpr long double expected_sum			= 256.306006621811L;
	static constexpr long double acceptable_sum_high	= 256.30600662185L;
};

template <>
struct float_test_data<double>
{
	static constexpr double values[] =
	{
		-0.7509923719,	0.8023470704,	-0.2390386512,	0.4575770563,	0.1780085672,	0.3759038671,	-0.0081231882,	-0.6065143112,
		0.4741172918,	-0.3188140282,	0.8413347340,	-0.0295534618,	-0.1598106751,	0.2799514369,	0.8837107500,	0.0824304634,
		-0.6348194357,	-0.0978246620,	0.6995148044,	0.5148325355,	0.8710443520,	0.4012267548,	0.5564919075,	0.6791152255,
		0.6821661203,	-0.7447900310,	0.5281636806,	0.9732622074,	-0.1158246624,	0.8778154376,	0.2717366360,	0.7351545038,
		0.4580825225,	0.4038736517,	0.3632176332,	0.7972296918,	0.1716109145,	0.5327115926,	0.6070267046,	0.7227968177,
		0.3113770770,	0.2724669871,	0.8466539326,	0.4209305883,	0.7637230286,	0.4804234299,	0.2752344464,	0.2584130571,
		0.1970099307,	0.9372815116,	0.2045158943,	-0.6481304584,	0.4295350233,	0.1446846730,	0.8180506357,	0.6079439878,
		0.7599161293,	-0.1333825135,	-0.8516268627,	0.4720396512,	0.3326649016,	0.5322697684,	-0.0297033352,	0.0030171349,
		0.8010784308,	0.6543567032,	-0.0308435988,	0.6798634174,	0.3234587581,	0.5356610104,	-0.4561099165,	0.5675590623,
		-0.0554780623,	0.3246387806,	0.6679433298,	0.8489071543,	0.4231687161,	0.6965794627,	0.1116849401,	0.4602896401,
		0.8656174290,	0.7296959211,	-0.8058065403,	0.2017296901,	0.6854100277,	0.8350436825,	0.3739155974,	0.1048350241,
		0.1199076136,	0.6107124152,	0.4212276203,	-0.1225409201,	-0.1306013098,	0.9153365641,	0.5888447533,	-0.8757102001,
		0.7871751043,	-0.0482681115,	0.1165064589,	0.1151474931,	-0.8919108672,	0.4046475796,	-0.8155980206,	0.0733131483,
		-0.2666006316,	0.8059311887,	0.5475499854,	-0.2174353293,	0.6155257669,	0.5301139197,	0.8068501764,	0.8791400867,
		-0.4586293201,	0.9052227782,	-0.2515828851,	-0.7721857674,	0.2816484935,	0.6441725768,	0.5357460737,	0.3432273752,
		0.4762796084,	0.2060247913,	0.0797736207,	-0.9676675179,	0.4430767346,	-0.8290561929,	0.5307262359,	0.7319543203,
		0.7061793380,	0.9692854641,	0.6056216256,	-0.9483115505,	-0.0062965661,	0.2419435650,	0.8602934958,	-0.2660958100,
		0.4674946400,	0.2903467905,	0.6087521419,	0.7814602077,	0.5531452361,	0.9104288549,	-0.0266640596,	0.6671049327,
		0.8850384435,	0.2526583885,	0.4327330674,	0.0900167963,	0.4783846735,	0.4649608118,	-0.2520957571,	0.5823466319,
		0.3943586275,	-0.3971565171,	0.3120619723,	0.8414625575,	0.0905857922,	-0.6484371308,	0.3001819830,	-0.9327766319,
		0.3642404195,	0.1191293124,	0.0803038824,	-0.6793055681,	0.0277891523,	0.2488770974,	0.7514311696,	0.5702578219,
		0.7975732352,	0.3517846043,	0.5915598044,	0.8050072908,	0.1094061269,	-0.4874780418,	0.5116818460,	0.0159999340,
		0.3322397183,	0.8509474753,	0.3281755115,	0.8487682985,	0.2484317932,	0.5845664174,	0.0055674095,	0.7686715784,
		-0.8646328446,	0.7209443174,	0.9321276166,	0.2755863707,	0.4225550161,	0.8063920474,	0.8963927902,	0.7357994161,
		0.4777535177,	0.8817381736,	0.4311409469,	-0.3626444989,	0.3765089735,	-0.1513186284,	-0.9927534281,	0.8647673338,
		0.2911919117,	-0.5326719099,	0.0195876580,	0.5893350673,	0.6396727870,	-0.5458343091,	0.6925821164,	-0.9527543100,
		-0.5880483393,	0.3292604006,	-0.7068829949,	0.7864138272,	0.5631350733,	-0.2288829235,	0.4965310971,	0.5012616632,
		0.2413307085,	-0.8006014037,	0.8021752831,	-0.1656974376,	-0.8583738531,	-0.1985852966,	0.1531103309,	-0.9622918058,
		0.6354705408,	0.7361140706,	-0.8942228293,	0.9026400915,	-0.7227418271,	0.3765829033,	0.8652277673,	0.3549647862,
		0.7517963737,	0.9880975849,	0.5378175585,	-0.9502145549,	0.7338617017,	-0.2409363303,	0.2107404254,	0.8185361666,
		0.1819729042,	0.1230932897,	0.7080168254,	-0.1618401228,	0.0956164555,	0.7962731897,	0.9183740318,	0.2793382049,
		0.2386668049,	0.2370504404,	0.1002231294,	-0.1004127500,	0.5764134036,	0.1406158715,	0.2386207677,	-0.5104953354,
		0.0892558959,	0.6924472304,	0.9629828969,	0.1057392342,	-0.8813397898,	0.9993014469,	0.1734421119,	0.2047465368,
		0.7207876012,	0.3580330877,	0.7257460050,	0.5819546829,	-0.8398718967,	-0.8111599207,	0.4423007294,	0.5842427280,
		-0.8360586434,	0.1923732890,	0.6674205709,	-0.8358614426,	0.4297154550,	0.0644283884,	0.2256318041,	-0.7533058559,
		0.1318647657,	0.2472035667,	0.0286804975,	0.9186303444,	0.8489484725,	0.7599982162,	-0.9711447638,	0.1113262898,
		0.7296489697,	0.1067931944,	-0.3111212351,	-0.4475101377,	0.6088067159,	-0.6698026766,	0.5477688417,	0.2436663992,
		0.9098057076,	-0.3857840989,	0.9652504741,	0.0740457020,	0.4442795401,	0.1730142258,	0.4284174133,	-0.9408053630,
		-0.6072974554,	0.2500748741,	0.5931856133,	0.2909066088,	-0.5321612730,	-0.0433065463,	0.9712315982,	0.2005192344,
		0.6676274061,	0.1750288166,	-0.6647319982,	0.2529275202,	-0.3723121215,	0.8686014163,	0.1306398857,	0.4411346709,
		0.4297134216,	0.4951805401,	0.4367504548,	0.3855740629,	-0.7668514587,	0.2837256122,	0.5282506295,	0.1742126226,
		-0.7394862869,	0.6617484098,	-0.8071287003,	0.4032705899,	0.3128209735,	0.8608749639,	0.9604274105,	0.7773817342,
		-0.8110725158,	-0.7102697019,	0.0767393688,	-0.4963721948,	0.2413686631,	-0.4515835820,	0.5279634278,	0.6467382565,
		-0.7452473346,	-0.9460859734,	0.4389147960,	0.3211168864,	0.5075833496,	0.7602863032,	0.0339951907,	0.0972259651,
		0.4242318192,	0.8801948722,	-0.5262006719,	0.7127107514,	0.7563915421,	0.8891244327,	0.9290979058,	0.6768878982,
		0.5455804847,	0.8628511560,	0.9902469692,	-0.3794524158,	0.7395339051,	0.4842097725,	0.9799672369,	0.9255509753,
		0.0355285752,	0.7157935170,	0.5130349474,	-0.1974883936,	0.6262148424,	0.9635404681,	-0.2950451860,	-0.0205132835,
		0.2176288888,	0.4983711128,	0.5543337458,	0.2688625545,	0.9998595086,	0.1574012382,	0.1459652783,	0.9238420469,
		0.9411584727,	0.3905544885,	0.0532844004,	0.9896621186,	0.3706467283,	0.8025726875,	0.2649861643,	0.7688980926,
		-0.0535186750,	0.5338468316,	0.5354314275,	0.8135324637,	0.8398342806,	0.6938888027,	-0.2714921376,	0.4387948878,
		-0.3411136385,	0.1294827050,	-0.3669794397,	-0.9942514965,	0.3946177471,	-0.9941008291,	0.9906928878,	-0.7718890034,
		-0.8637780796,	0.9564891841,	0.2155949554,	0.8881406284,	0.4277132944,	0.2708001964,	0.3885822175,	-0.6660739054,
		0.8463148402,	-0.9609456425,	0.6857258223,	-0.3560935667,	-0.2625990149,	0.4964055163,	0.2920176803,	0.5487732527,
		-0.4842862851,	0.9437742261,	0.4532768720,	0.0201218166,	0.3571034858,	0.2976848999,	0.3192193425,	-0.0048899112,
		0.8813703012,	0.3653913327,	0.1573315911,	0.9201357514,	0.5520772485,	-0.4733038052,	0.9595529729,	0.4607771457,
		0.3064338130,	0.0314260684,	0.4738879219,	0.9153546695,	0.5916037434,	-0.6746478700,	-0.8105975280,	0.9019235579,
		0.0237160311,	0.6818791420,	-0.7079149927,	0.6107725693,	-0.7324667751,	0.0479976659,	0.0472266211,	-0.7652570437,
		-0.5877589184,	0.5886115337,	-0.4684034802,	0.4349426845,	0.0777039093,	0.2986267436,	0.8677180109,	0.4388753411,
		-0.0061680919,	0.4397553860,	0.2010425612,	-0.7324762726,	0.2690367733,	0.3499078524,	0.4431370306,	-0.3880300990,
		0.7050151766,	0.8896687084,	-0.8681991837,	-0.8131533405,	0.0298965783,	0.1637968211,	0.1699696877,	0.1948559855,
		0.0484389549,	0.2359366117,	0.9076210696,	0.9562163237,	0.7834236209,	0.0771687643,	0.5203225729,	0.2277509230,
		-0.8936315907,	-0.5494563566,	0.0114367387,	0.6193695652,	0.1443663216,	0.4922086184,	-0.4711672977,	0.0530910003,
		-0.0373145956,	-0.9849710958,	0.6674096392,	0.2586146673,	-0.4055269545,	-0.8275270280,	0.4657019847,	0.1471964101,
		0.9116305108,	0.9520556265,	-0.5253260729,	0.9113188551,	0.1315940714,	0.7967032392,	-0.6553207423,	0.3638914161,
		-0.4934018058,	0.4456161483,	0.6470086348,	0.6153645679,	-0.6758477761,	0.9194508309,	0.2696354595,	0.2489133833,
		0.5564912487,	0.1517158790,	0.2543536135,	0.3403963253,	0.8986054890,	0.1040377191,	0.7776891776,	0.4108141804,
		0.4146697651,	0.0954960573,	0.9389209242,	0.4310160794,	-0.5325235172,	0.5213873495,	-0.8205537545,	0.7243256249,
		0.0260533200,	0.1501938768,	-0.7580794124,	0.1648037842,	0.6456907127,	-0.5549316531,	0.4494925861,	0.9629165500,
		0.6763081256,	0.7405648847,	0.0028218702,	0.5815212064,	-0.8687752816,	0.3763984522,	0.4443287380,	-0.2356241814,
		-0.5568046624,	0.9295523647,	0.3621555690,	0.9267443968,	0.1515569179,	0.0783566307,	0.3612984464,	0.7477677589,
		-0.1947568567,	0.9216655853,	0.0395243273,	-0.5764438782,	0.2910433084,	-0.6082846691,	0.1466806987,	0.6818242299,
		-0.1739190512,	0.0464310635,	0.4293516335,	0.2573515952,	0.0382691828,	0.1707125776,	0.2544575960,	0.6001323512,
		-0.8707244049,	0.8597204417,	0.1752448019,	-0.8953207348,	0.5543375756,	0.7847526244,	0.9297247473,	0.1665593544,
		0.7656452088,	0.2346230337,	0.4766085204,	0.2030208754,	-0.8084914147,	0.5969756895,	-0.4877031072,	0.1491560164,
		0.5498492636,	0.7394765165,	-0.3270378721,	0.5272629469,	0.3179286847,	0.3070120979,	0.1202692161,	0.4661712139,
		0.2332045774,	0.3086751730,	0.8122244053,	0.6750898634,	0.7365207021,	-0.2763533772,	0.9120652085,	-0.3412225643,
		0.8358268741,	-0.1115700263,	0.1751856939,	0.5227577926,	0.4249732354,	0.4420588468,	0.7483254819,	0.5973893340,
		-0.5937457227,	0.6958675951,	-0.5143199757,	-0.2368348750,	0.3647839672,	0.7231929016,	0.4996631923,	-0.9397793960,
		0.9691956133,	0.4834445154,	0.5772454702,	0.4620947812,	0.6434524923,	0.4227352393,	0.6412573759,	0.5865036183,
		0.1188140914,	0.9246017026,	0.6732968665,	0.5645087214,	0.9336053334,	0.6466999762,	0.6540512595,	0.4903698627,
		0.6032897296,	-0.4226567394,	0.1096488176,	-0.8480185668,	0.5312650524,	-0.7665289928,	-0.6971395462,	-0.6358740060,
		0.1698932142,	0.3482943038,	-0.5805741800,	0.6466599262,	-0.4559821205,	0.1531956333,	0.9351422528,	0.3379639731,
		0.4602282529,	0.1127448232,	-0.3098223883,	0.2634444838,	0.3103093463,	-0.1200996431,	-0.6707517983,	0.5618914146,
		-0.3870083415,	0.6681449139,	0.6041223334,	-0.7250592498,	0.7596448299,	0.0248391804,	0.6336452174,	0.8811959591,
		-0.3267313400,	0.6049144231,	0.8593073209,	0.0110006435,	0.6960813736,	-0.2379817296,	-0.9067567253,	0.2594903604,
		0.8571802243,	0.1388021141,	0.3404813491,	0.0270736685,	0.7650528234,	0.0395942311,	-0.3455203571,	-0.6942337263,
		-0.6534442790,	0.0986452644,	0.9767968145,	0.5726289907,	0.3291522398,	0.0683748045,	0.7318427792,	0.5306351904,
		0.2514295644,	0.7909378630,	0.9984164198,	0.8121050998,	0.2759990400,	-0.1391860114,	0.6112426048,	-0.7907797474,
		0.5223257258,	0.0301577624,	0.8321981025,	0.4360067119,	0.0838460830,	0.6818552671,	0.8471958455,	0.1329197605,
		0.9598737088,	0.5476506167,	0.2270968651,	-0.8634673999,	0.6820548740,	0.4662307435,	0.7101261520,	0.1367663767,
		0.7616236805,	0.1521146292,	0.4446676348,	-0.6562698367,	0.5133808886,	0.0256944451,	0.2290458998,	0.3871066781,
		0.3082794702,	0.7406259718,	0.5869715691,	0.8689775135,	0.3884293621,	0.8187558348,	0.6527332954,	0.5865429232,
		0.9685479585,	0.5090894545,	0.4308801364,	-0.9387449505,	0.0878725672,	0.5683491341,	0.8644113267,	0.3330117236,
		0.8015376549,	0.6159752057,	0.0368318356,	-0.1464731872,	0.8899743904,	0.4575997476,	0.6934480121,	0.6018307307,
		0.4393009670,	0.4656416949,	0.9502304517,	0.0043357699,	0.7697570378,	-0.3230253712,	0.2407883702,	0.6600209516,
		0.4204408109,	-0.7933493447,	0.0955997370,	-0.0938272912,	0.9234329654,	-0.1639789298,	0.1223421923,	0.6151563192,
		0.9697301519,	0.6518704553,	0.3251824094,	0.5468509884,	0.9838354164,	0.3531935024,	0.8078046448,	0.7809170873,
		0.8412987833,	0.1498061093,	0.9882723048,	0.5994347024,	0.1659542113,	0.9046891698,	0.0198544863,	-0.4504635727,
		0.3609036959,	-0.3907891711,	0.6288592894,	-0.0121982568,	0.0717727587,	0.4177835066,	0.9326933743,	0.7257700397,
		0.7567661735,	0.1895966550,	0.3902230887,	-0.2452720400,	0.0710383428,	-0.4082105504,	-0.0746065409,	0.4668638417,
		0.1526499333,	0.2358321135,	0.9967850271,	-0.2913277320,	-0.4216332427,	0.8919186729,	-0.0301879061,	0.0383290246,
		0.0950386927,	0.1671069074,	0.1164871000,	0.5727092736,	0.4858152782,	0.0449817899,	0.6705215314,	0.5294641827,
		0.4094187480,	0.8857132331,	0.1144625727,	0.7088247332,	0.5233485535,	0.5738443839,	0.2232644391,	0.7556909942,
		0.4426910095,	-0.6615981916,	0.8092818953,	0.2571532652,	0.4877283949,	0.3049572020,	0.5651090538,	0.9765462923,
		0.9842669162,	-0.6882887297,	0.7764805960,	-0.9616942367,	0.4266035392,	0.0952401481,	-0.7496543873,	-0.2300228075,
		0.9429927830,	0.0739973581,	0.9989751438,	0.4838229798,	0.4718985478,	0.6403535630,	0.2531608745,	-0.2389092716,
		0.5529634742,	0.7899123282,	0.8504392489,	0.4859830673,	-0.7965449101,	0.2220480762,	0.1306919962,	-0.9372018661,
		0.5215566482,	0.7866586572,	0.7082579948,	-0.2005936116,	0.4169998858,	0.7415524034,	0.5571135338,	-0.9902180851,
		0.3340098412,	0.1652085579,	0.6514403232,	0.6154363269,	0.4823958746,	0.3921326469,	0.6243774560,	0.5389522702,
		0.1561671577,	0.6130074599,	0.6122466823,	0.9089323722,	0.5188430332,	-0.5697552309,	0.9921397151,	0.6139875338,
		0.8291819927,	0.3912297856,	0.7731643649,	0.3633351967,	0.4492011372,	-0.7000865239,	-0.7836327455,	0.8924467644,
		-0.8715300677,	0.1920329866,	0.6362191391,	0.2677146110,	0.5593715910,	0.4502672592,	0.2975410599,	0.7647345645,
		-0.6731841323,	0.5360461856,	0.2349881146,	-0.1263577213,	0.0428437716,	-0.5826917459,	0.6059308445,	0.6322960285,
		0.3149350885,	0.8532572530,	0.0810005129,	-0.8190141366,	0.7932773467,	-0.4223548302,	0.1078381992,	-0.5403470124,
		0.9558628569,	-0.9651137695,	0.8304960449,	0.3752656597,	0.8473665520,	0.0104827198,	-0.7685318743,	0.2302173544,
		-0.8788330641,	0.1631573311,	0.2382820707,	-0.6187250614,	0.2267142014,	0.3755424065,	0.3760595306,	0.5165015852,
		0.1381811282,	0.6405264851,	0.5330155854,	-0.9834773944,	0.6590278225,	0.3190802646,	0.5958442724,	0.4791330738,
		0.6762214186,	0.6641881055,	0.4951030007,	-0.6145196896,	0.3005043418,	0.6572503308,	0.8686298726,	-0.8726919355,
		0.8447072949,	0.8013721675,	0.5299689673,	0.8034555458,	0.3836275287,	0.5952762199,	0.3933329334,	0.2801140105,
		0.3623976565,	0.0870033252,	-0.0660593963,	0.8112529524,	0.0402295632,	0.3341307902,	0.9626270735,	-0.1720978728,
		0.6331549879,	0.1411877266,	0.4597064885,	-0.9084465220,	-0.2354901169,	0.0722224496,	-0.8305357986,	0.5293744560,
		0.0986432848,	0.9906989851,	-0.2024227859,	0.8277585493,	0.6729267613,	0.5331143493,	0.4800117348,	0.2163708384,
		0.1829965857,	0.7580762836,	-0.0661144107,	0.1638711734,	-0.5927298810,	0.9181514808,	-0.3917439829,	0.4587738253,
		0.4274116719,	0.1019288572,	-0.0726394135,	-0.9042344314,	0.1577713281,	0.4163105268,	0.1361097068,	-0.4416285153,
	};

	static constexpr double acceptable_sum_low	= 256.3060066216;
	static constexpr double expected_sum		= 256.3060066218;
	static constexpr double acceptable_sum_high	= 256.3060066220;
};

template <>
struct float_test_data<float>
{
	static constexpr float values[] =
	{
		0.328963f,	0.266042f,	0.671116f,	-0.433135f,	0.422471f,	-0.920769f,	0.456578f,	0.272045f,
		0.551332f,	0.778248f,	-0.051260f,	0.218973f,	0.548621f,	0.897256f,	-0.904396f,	0.522395f,
		-0.015850f,	-0.689291f,	-0.344815f,	0.217112f,	0.400407f,	0.338672f,	0.345702f,	-0.305119f,
		0.176880f,	-0.599653f,	-0.222498f,	0.673475f,	0.879466f,	0.619241f,	0.492053f,	0.840940f,
		0.399945f,	-0.776750f,	0.979260f,	0.089732f,	-0.889209f,	0.581565f,	0.310895f,	-0.974861f,
		0.564734f,	0.486649f,	-0.100874f,	0.917582f,	0.568153f,	0.756054f,	0.181329f,	0.405044f,
		0.684405f,	0.970386f,	0.480385f,	0.491289f,	-0.506292f,	0.649531f,	-0.449653f,	-0.234277f,
		0.729449f,	0.434110f,	0.236672f,	0.737514f,	-0.221747f,	0.014120f,	0.917109f,	0.869218f,
		0.065497f,	0.250353f,	0.379823f,	-0.585797f,	0.514035f,	-0.783192f,	0.096781f,	-0.921615f,
		0.831796f,	0.168432f,	-0.895386f,	0.582961f,	0.977486f,	-0.159964f,	-0.072778f,	0.019067f,
		0.984039f,	0.036394f,	0.243867f,	0.224248f,	0.464523f,	0.642846f,	0.397646f,	0.745020f,
		0.444090f,	-0.846633f,	0.522176f,	-0.783910f,	0.467827f,	0.683865f,	0.744401f,	0.590848f,
		-0.518456f,	0.125206f,	0.705062f,	0.894752f,	0.056085f,	-0.273935f,	0.732770f,	0.463994f,
		0.751449f,	0.662867f,	0.511049f,	0.954632f,	0.998380f,	0.631835f,	0.982128f,	0.146942f,
		0.791772f,	-0.641678f,	0.726892f,	0.850964f,	-0.014622f,	0.747739f,	0.585861f,	0.411983f,
		0.652104f,	0.888283f,	0.108110f,	0.184190f,	-0.068107f,	0.187945f,	0.257866f,	0.125035f,
		0.940699f,	0.777555f,	0.582573f,	0.916491f,	0.865933f,	0.405154f,	-0.363893f,	-0.578424f,
		0.772823f,	0.982438f,	0.298638f,	0.013341f,	-0.598422f,	0.104862f,	0.836586f,	0.738144f,
		-0.160090f,	0.400711f,	0.740746f,	0.477976f,	0.284383f,	0.749308f,	-0.963496f,	-0.428688f,
		0.157353f,	0.845039f,	0.431954f,	-0.671199f,	0.491546f,	-0.789879f,	0.773098f,	-0.545445f,
		0.362756f,	0.631747f,	0.504294f,	0.179615f,	0.240776f,	-0.334267f,	-0.009827f,	0.357908f,
		0.304155f,	-0.226230f,	0.566495f,	0.683282f,	0.036606f,	-0.899558f,	0.317647f,	-0.794664f,
		0.640923f,	0.466132f,	-0.714480f,	0.162542f,	0.564026f,	0.610591f,	0.472834f,	0.526449f,
		-0.699676f,	0.344324f,	0.289543f,	0.660052f,	-0.304911f,	0.872967f,	0.306454f,	-0.631086f,
		0.146469f,	0.366946f,	0.124775f,	0.484498f,	0.787536f,	0.784710f,	0.226222f,	0.877715f,
		-0.398307f,	-0.335268f,	0.500374f,	-0.030812f,	-0.435061f,	0.193052f,	-0.594093f,	0.249820f,
		0.029306f,	0.710785f,	0.428069f,	0.273207f,	0.956827f,	-0.837006f,	0.832452f,	0.958544f,
		0.918028f,	-0.124405f,	0.918764f,	0.792522f,	-0.266672f,	0.237676f,	0.930250f,	0.121993f,
		-0.398117f,	-0.406612f,	0.430582f,	-0.449023f,	0.787123f,	0.611400f,	0.794194f,	0.492794f,
		0.704469f,	-0.295578f,	0.507118f,	0.230211f,	0.819748f,	0.824768f,	-0.802668f,	0.023869f,
		0.682713f,	0.110393f,	0.380319f,	0.449435f,	0.317813f,	0.318558f,	0.805304f,	0.794988f,
		-0.131217f,	0.442585f,	0.016207f,	0.399847f,	-0.057507f,	0.901902f,	0.344206f,	0.864539f,
		-0.611370f,	0.126053f,	-0.398461f,	0.067943f,	0.252902f,	-0.704621f,	0.820433f,	-0.505277f,
		0.338605f,	-0.807697f,	-0.158095f,	0.178441f,	0.720118f,	-0.676514f,	0.604309f,	-0.945591f,
		0.738010f,	0.957405f,	-0.120575f,	0.604266f,	0.331016f,	0.487172f,	0.231009f,	-0.885773f,
		-0.189227f,	0.135318f,	-0.112570f,	-0.801737f,	0.840977f,	-0.478234f,	0.162614f,	-0.403419f,
		0.613502f,	0.306780f,	0.271301f,	-0.847738f,	0.895261f,	0.037607f,	0.243504f,	0.270189f,
		0.567912f,	0.781799f,	0.177456f,	-0.819599f,	0.910475f,	0.464037f,	0.609377f,	-0.007040f,
		0.803889f,	-0.852664f,	0.835042f,	0.331078f,	0.854844f,	0.135975f,	0.527203f,	0.585573f,
		0.293881f,	-0.099177f,	0.336257f,	0.951634f,	0.207763f,	0.733427f,	0.420172f,	0.187316f,
		0.281984f,	0.738471f,	0.089282f,	0.599490f,	0.402118f,	0.988436f,	-0.314838f,	0.112549f,
		0.919951f,	-0.454342f,	-0.012234f,	0.967889f,	-0.251051f,	-0.798995f,	-0.132829f,	0.042544f,
		0.449797f,	-0.315971f,	-0.773113f,	0.927712f,	0.648475f,	-0.852936f,	0.004471f,	0.600347f,
		0.736342f,	0.752908f,	0.086079f,	-0.865447f,	-0.579929f,	0.512834f,	0.670273f,	0.755715f,
		-0.003181f,	0.982603f,	0.508449f,	0.800089f,	0.048719f,	0.907821f,	0.397884f,	-0.538672f,
		0.770927f,	0.056573f,	0.684497f,	0.899598f,	0.825431f,	0.785907f,	0.207351f,	0.442025f,
		0.201452f,	0.085730f,	0.885174f,	-0.844602f,	0.804095f,	0.175299f,	0.258970f,	0.330701f,
		-0.267850f,	0.762438f,	0.746612f,	0.173811f,	0.122663f,	-0.828927f,	0.589471f,	0.093024f,
		0.203317f,	0.772559f,	0.214165f,	0.508644f,	-0.404782f,	-0.886613f,	0.024064f,	0.243839f,
		0.994008f,	0.318375f,	-0.876724f,	0.454710f,	0.379295f,	0.094444f,	0.342862f,	0.860960f,
		0.333758f,	-0.904393f,	0.317403f,	0.933917f,	0.836902f,	0.980079f,	0.855618f,	0.812538f,
		-0.577328f,	0.817827f,	-0.009072f,	0.290906f,	0.064147f,	-0.125350f,	0.362536f,	0.024852f,
		-0.058235f,	-0.624823f,	0.545970f,	0.701845f,	0.084852f,	0.606809f,	0.380038f,	0.387218f,
		0.694766f,	-0.551701f,	0.192044f,	0.504813f,	0.989716f,	0.334532f,	0.463026f,	0.404068f,
		-0.459308f,	0.984343f,	0.064023f,	0.956185f,	0.176820f,	0.714932f,	0.499586f,	0.973423f,
		0.175150f,	0.920969f,	0.775771f,	0.060197f,	0.538775f,	-0.776465f,	-0.704946f,	0.500893f,
		-0.205884f,	0.740872f,	-0.581316f,	0.893532f,	0.443316f,	0.201929f,	0.865812f,	0.769628f,
		-0.737123f,	0.634158f,	0.363756f,	-0.943852f,	0.512468f,	0.011715f,	-0.679128f,	-0.386959f,
		-0.762264f,	0.480326f,	0.919990f,	0.017151f,	0.693819f,	0.910486f,	0.466614f,	0.102378f,
		0.151675f,	0.253345f,	0.872926f,	0.714936f,	-0.142412f,	-0.771181f,	-0.615054f,	0.795943f,
		-0.409739f,	-0.320459f,	0.265288f,	0.246731f,	0.823678f,	0.190541f,	0.847106f,	0.394348f,
		0.963393f,	0.887030f,	0.295524f,	0.474860f,	-0.264710f,	0.515614f,	0.369542f,	-0.742938f,
		-0.448515f,	0.629489f,	-0.147549f,	-0.875457f,	-0.085237f,	0.150533f,	0.308516f,	0.421805f,
		0.086879f,	0.366187f,	-0.441167f,	0.234430f,	0.805365f,	0.013764f,	-0.477222f,	-0.534837f,
		-0.700359f,	0.218446f,	0.923143f,	-0.840497f,	0.995437f,	0.371521f,	0.479062f,	-0.035930f,
		-0.887840f,	0.631469f,	0.015777f,	0.808326f,	-0.644953f,	0.963824f,	0.073184f,	-0.375814f,
		0.346848f,	-0.235736f,	0.214080f,	0.626548f,	-0.151780f,	0.848311f,	0.864875f,	0.945649f,
		-0.147942f,	0.892978f,	0.542872f,	0.513349f,	0.006783f,	-0.580349f,	0.180593f,	0.945149f,
		0.286786f,	0.522634f,	0.921706f,	0.984863f,	0.579657f,	0.308871f,	-0.849584f,	0.086545f,
		0.052192f,	0.244506f,	-0.119349f,	-0.521369f,	-0.526589f,	-0.215456f,	0.752162f,	-0.287317f,
		0.117224f,	0.024784f,	-0.357636f,	0.308167f,	0.261539f,	0.722107f,	0.302922f,	0.460774f,
		0.137050f,	0.430479f,	0.676428f,	-0.050172f,	0.582100f,	0.669214f,	-0.423693f,	0.325888f,
		-0.914844f,	0.890990f,	-0.420188f,	-0.029825f,	0.528287f,	0.697349f,	-0.242877f,	0.399700f,
		0.955751f,	0.109472f,	0.155183f,	0.462541f,	0.937121f,	0.927808f,	0.291466f,	0.792478f,
		0.527359f,	0.627081f,	0.988910f,	0.527593f,	0.327702f,	-0.762912f,	0.219660f,	-0.246319f,
		-0.089685f,	0.024376f,	0.389908f,	0.296140f,	0.224518f,	0.617010f,	0.918059f,	0.505278f,
		0.539817f,	0.361439f,	0.362803f,	0.247160f,	0.370516f,	0.608521f,	0.390899f,	0.129230f,
		-0.772245f,	0.028929f,	0.823527f,	0.721590f,	0.684980f,	0.109388f,	0.932665f,	0.862865f,
		0.235433f,	0.546732f,	-0.331154f,	0.153998f,	0.894580f,	-0.706364f,	-0.180897f,	0.695338f,
		0.903830f,	0.861738f,	0.083774f,	-0.907419f,	0.701879f,	0.040467f,	0.663835f,	0.838972f,
		0.622667f,	0.047899f,	0.748027f,	0.536034f,	-0.846439f,	-0.389589f,	0.860582f,	-0.395699f,
		-0.079107f,	0.227655f,	0.909748f,	0.410985f,	-0.579088f,	-0.167027f,	0.886593f,	0.090320f,
		0.482017f,	0.231732f,	0.521068f,	0.616157f,	0.326838f,	0.511579f,	0.696030f,	0.329242f,
		0.178218f,	0.393619f,	0.583338f,	-0.815109f,	0.746924f,	0.333620f,	-0.944796f,	-0.822520f,
		0.696550f,	0.795303f,	0.810538f,	0.681845f,	0.404194f,	0.347033f,	-0.486387f,	0.818373f,
		0.912107f,	-0.825633f,	0.097576f,	0.946204f,	0.164366f,	0.059716f,	-0.399486f,	-0.075084f,
		0.443127f,	0.933856f,	0.204699f,	0.582304f,	0.990650f,	-0.745452f,	0.887978f,	-0.902769f,
		0.615651f,	-0.351375f,	0.098780f,	-0.943749f,	-0.582390f,	-0.063123f,	-0.563937f,	0.436391f,
		0.675923f,	-0.932180f,	0.795184f,	-0.564489f,	0.481010f,	-0.169574f,	-0.480365f,	0.031263f,
		0.868043f,	0.195175f,	0.510543f,	0.491027f,	0.100535f,	-0.567184f,	0.603923f,	0.919484f,
		0.874452f,	0.335831f,	-0.770696f,	-0.919095f,	0.079824f,	0.667658f,	0.813339f,	-0.408186f,
		0.639513f,	0.650510f,	-0.516067f,	0.986908f,	0.668379f,	-0.070615f,	0.858878f,	0.478651f,
		-0.953467f,	-0.586110f,	0.233245f,	0.465125f,	0.947399f,	-0.679709f,	0.382778f,	0.868284f,
		0.216312f,	0.607087f,	0.698420f,	0.290560f,	-0.734316f,	0.154262f,	0.080548f,	-0.855207f,
		0.168231f,	0.114886f,	0.970835f,	0.837931f,	0.012456f,	0.580170f,	0.559960f,	-0.856733f,
		0.125213f,	0.240691f,	-0.669883f,	0.817039f,	-0.426319f,	-0.650594f,	0.687353f,	0.704235f,
		0.055943f,	-0.628106f,	0.359597f,	-0.516312f,	0.216950f,	0.234673f,	0.986206f,	0.190346f,
		0.081079f,	0.425692f,	0.458034f,	0.864177f,	0.158310f,	0.861437f,	0.846200f,	0.225309f,
		-0.506340f,	0.104313f,	-0.515017f,	0.390219f,	-0.298154f,	0.412287f,	0.215008f,	-0.605921f,
		0.845260f,	-0.096284f,	0.968915f,	0.936481f,	0.157993f,	0.838142f,	-0.518959f,	0.524295f,
		0.924041f,	0.554815f,	0.519329f,	-0.515081f,	0.703753f,	0.511635f,	0.908681f,	0.246581f,
		0.405016f,	0.528739f,	0.267382f,	0.537533f,	0.171381f,	0.739349f,	0.390879f,	0.638397f,
		-0.691687f,	0.652538f,	0.563363f,	0.584036f,	-0.637907f,	0.957173f,	0.277529f,	0.516402f,
		0.473552f,	0.362409f,	0.665084f,	0.942914f,	0.743380f,	0.954897f,	0.726537f,	0.318202f,
		0.161904f,	0.557627f,	0.560989f,	0.866082f,	-0.565896f,	0.171598f,	0.711510f,	0.967513f,
		0.222938f,	0.482086f,	0.720845f,	0.662250f,	0.990070f,	0.505101f,	0.606470f,	0.534895f,
		0.589379f,	0.472023f,	0.753310f,	-0.087639f,	0.415986f,	0.033716f,	0.052675f,	0.186611f,
		0.820042f,	-0.445967f,	0.796111f,	0.285708f,	0.263665f,	0.663120f,	-0.523267f,	0.125897f,
		0.618374f,	-0.045099f,	0.809029f,	0.999204f,	0.029037f,	0.438536f,	0.265956f,	0.847971f,
		0.419319f,	0.344386f,	0.899795f,	0.931126f,	0.158428f,	0.876368f,	0.191378f,	0.328695f,
		-0.345699f,	0.312059f,	0.742776f,	-0.999936f,	0.800976f,	0.856679f,	0.440812f,	-0.382848f,
		-0.553867f,	0.674460f,	0.953215f,	0.303830f,	0.517972f,	0.742879f,	0.305384f,	0.199089f,
		-0.718935f,	0.322848f,	0.017172f,	-0.983885f,	0.177443f,	-0.439537f,	0.567521f,	0.769792f,
		0.229564f,	-0.774276f,	0.973681f,	0.430081f,	0.443350f,	0.177914f,	-0.646279f,	0.384370f,
		-0.947985f,	0.532005f,	0.516958f,	0.412397f,	0.468286f,	-0.290022f,	0.386564f,	-0.050597f,
		0.940137f,	-0.383919f,	0.156631f,	-0.373152f,	-0.300939f,	-0.720401f,	0.588515f,	0.424566f,
		0.774873f,	0.172752f,	0.056624f,	0.938550f,	0.804258f,	0.685776f,	0.326439f,	-0.659389f,
		0.130967f,	0.538464f,	0.574436f,	0.855887f,	0.100946f,	0.306712f,	0.366975f,	0.534628f,
		-0.845829f,	-0.365363f,	-0.641835f,	0.122315f,	-0.551821f,	0.837213f,	0.632731f,	0.911424f,
		0.402203f,	0.003690f,	0.034479f,	0.626418f,	0.962987f,	0.429330f,	0.229689f,	0.530967f,
		0.618815f,	0.332398f,	-0.823248f,	0.540598f,	0.922594f,	0.639865f,	0.812028f,	0.806831f,
		0.204833f,	-0.605421f,	0.936261f,	0.233364f,	0.611529f,	0.438243f,	-0.610413f,	0.289298f,
		0.214522f,	-0.037320f,	-0.647361f,	-0.247008f,	-0.185980f,	0.825248f,	-0.016586f,	-0.322258f,
		-0.314505f,	0.836610f,	-0.515879f,	0.266329f,	-0.890424f,	0.930232f,	-0.376889f,	-0.530100f,
	};

	static constexpr float acceptable_sum_low	= 250.438565f;
	static constexpr float expected_sum			= 250.438565f;
	static constexpr float acceptable_sum_high	= 250.438565f;
};

template <>
struct float_test_data<float16>
{
	static constexpr auto& values = float_test_data<float>::values;

	static constexpr float acceptable_sum_low	= 250.23f;
	static constexpr float expected_sum			= float_test_data<float>::expected_sum;
	static constexpr float acceptable_sum_high	= 250.44f;

};

template <typename T>
static void test_float_accumulator() noexcept
{
	using test_data = float_test_data<T>;

	//test calling add() for each value
	{
		T raw_sum = {};
		accumulator<T> accum;
		CHECK(accum.sample_count() == 0_sz);
		CHECK(accum.value() == T{});
		for (auto val : test_data::values)
		{
			raw_sum = raw_sum + static_cast<T>(val);
			accum.add(static_cast<T>(val));
		}
		CHECK(accum.sample_count() == std::size(test_data::values));
		CHECK(raw_sum != test_data::expected_sum);
		CHECK(std::abs(static_cast<long double>(test_data::expected_sum) - accum.value())
			< std::abs(static_cast<long double>(test_data::expected_sum) - raw_sum));
		CHECK(accum.value() >= test_data::acceptable_sum_low);
		CHECK(accum.value() <= test_data::acceptable_sum_high);
	}

	//test calling add(begin, end)
	if constexpr (!std::is_same_v<T, float16>)
	{
		accumulator<T> accum;
		accum.add(std::begin(test_data::values), std::end(test_data::values));
		CHECK(accum.sample_count() == std::size(test_data::values));
		CHECK(accum.value() >= test_data::acceptable_sum_low);
		CHECK(accum.value() <= test_data::acceptable_sum_high);
	}
}

TEST_CASE("accumulator - float16")
{
	test_float_accumulator<float16>();
}

TEST_CASE("accumulator - float")
{
	test_float_accumulator<float>();
}

TEST_CASE("accumulator - double")
{
	test_float_accumulator<double>();
}

TEST_CASE("accumulator - long double")
{
	test_float_accumulator<long double>();
}

MUU_PRAGMA_MSVC(float_control(pop))


TEST_CASE("accumulator - integers")
{
	int raw_sum = {};
	accumulator<int> accum;
	CHECK(accum.sample_count() == 0_sz);
	CHECK(accum.value() == 0);
	for (size_t i = 0; i < 1000; i++)
	{
		const auto val = rand();
		raw_sum += val;
		accum.add(val);
	}
	CHECK(accum.sample_count() == 1000_sz);
	CHECK(accum.value() == raw_sum);
}

MUU_POP_WARNINGS // MUU_DISABLE_FLOAT_WARNINGS
