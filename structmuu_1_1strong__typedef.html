<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <title>muu::strong_typedef struct | muu Miscellaneous useful utilities for C++</title>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" rel="stylesheet"/>
  <link href="m-dark+documentation.compiled.css" rel="stylesheet"/>
  <link href="favicon.ico" rel="icon" type="image/vnd.microsoft.icon"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="#22272e" name="theme-color"/>
  <meta content="muu" name="twitter:title"/>
  <meta content="muu" property="og:title"/>
  <meta content="muu" itemprop="name"/>
  <meta content="Miscellaneous useful utilities for C++" name="description"/>
  <meta content="Miscellaneous useful utilities for C++" name="twitter:description"/>
  <meta content="Miscellaneous useful utilities for C++" property="og:description"/>
  <meta content="Miscellaneous useful utilities for C++" itemprop="description"/>
  <meta content="telephone=no" name="format-detection"/>
  <meta content="Poxy v0.5.3" name="generator"/>
  <meta content="no-referrer-when-downgrade" name="referrer"/>
  <link href="poxy-0.5.3.css" rel="stylesheet"/>
  <link href="poxy-0.5.3-dark.css" rel="stylesheet"/>
  <script src="poxy-0.5.3.js"></script>
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a class="m-col-t-8 m-col-m-none m-left-m" href="index.html" id="m-navbar-brand"><img alt="" src="logo.png"/>muu <span class="m-thin">Miscellaneous useful utilities for C++</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z" id="m-doc-search-icon-path"></path>
        </svg></a>
        <a href="#navigation" id="m-navbar-show" title="Show navigation"></a>
        <a href="#" id="m-navbar-hide" title="Hide navigation"></a>
      </div>
      <div class="m-col-t-12 m-show-m m-col-m-none m-right-m" id="m-navbar-collapse">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="files.html">Files</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a class="github poxy-external" href="https://github.com/marzer/muu/" target="_blank">Github</a></li>
            <li class="m-show-m"><a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path"></use>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <div class="m-doc-include m-code m-inverted m-right-m m-text-right"><span class="cp">#include</span> <a class="cpf" href="strong__typedef_8h.html">&lt;muu/strong_typedef.h&gt;</a></div>
          <div class="m-doc-template">template&lt;typename ValueType, typename Tag, typename... Mixins&gt;</div>
          <span class="m-breadcrumb"><a href="namespacemuu.html">muu</a>::<wbr/></span>strong_typedef <span class="m-thin">struct</span>
        </h1>
        <p>A utility class for creating 'strong typedefs'.</p>
        <table class="m-table m-fullwidth m-flat">
          <thead>
            <tr><th colspan="2">Template parameters</th></tr>
          </thead>
          <tbody>
            <tr>
              <td style="width: 1%">ValueType</td>
              <td>The underlying value type held by the typedef object. May be a reference. May not be cv-qualified unless it is also a reference.</td>
            </tr>
            <tr>
              <td>Tag</td>
              <td>The tag type necessary to uniquely identify this typedef.</td>
            </tr>
            <tr>
              <td>Mixins</td>
              <td>Additional CTRP-based mixins for adding custom functionality.</td>
            </tr>
          </tbody>
        </table>
        <div class="m-block m-default poxy-toc">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pub-attribs">Public variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>Strong typedefs use the C++ type system to create compile-time guarantees for values that otherwise might only be represented by regular typedefs, and thus lose their semantic meaning when passed to the compiler. Doing so prevents an entire class of bugs where incompatible values can be accidentally used interchangeably because they were of same/convertible type, e.g. a non-sequential ID <code>thing_id</code> being mistakenly used instead of <code>thing_index</code> when indexing into an array, because they both happened to be aliases of <code>int</code>:</p><pre class="m-code"><span class="k">using</span> <span class="ut">thing_id</span> <span class="o">=</span> <span class="ns">muu</span><span class="o">::</span><span class="ut">strong_typedef</span><span class="o">&lt;</span><span class="k">int</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">thing_id_tag</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="ut">thing_index</span> <span class="o">=</span> <span class="ns">muu</span><span class="o">::</span><span class="ut">strong_typedef</span><span class="o">&lt;</span><span class="k">int</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">thing_index_tag</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">void</span> <span class="nf">do_important_stuff</span><span class="p">(</span><span class="n">thing_id</span> <span class="n">id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nf">this_function_is_broken</span><span class="p">(</span><span class="n">thing_index</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">do_important_stuff</span><span class="p">(</span><span class="n">index</span><span class="p">);</span> <span class="c1">// an obvious error that won't compile with strong typedefs</span>
<span class="p">}</span></pre><p>This implementation will automatically provide a number of operators if they are supported by the wrapped type: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> and <code>!</code> (unary logical not). Additional functionality can be added by adding CTRP-based 'mixins'.</p><aside class="m-note m-default"><h4>See also</h4><p><a class="poxy-external" href="https://www.jambit.com/en/latest-info/toilet-papers/strong-typedefs/" target="_blank">Strong typedefs</a></p></aside>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt id="af62b3bc43d83a5f1dffdfa86a53afa0d">
              using <a class="m-doc-self" href="#af62b3bc43d83a5f1dffdfa86a53afa0d">value_type</a> = ValueType
            </dt>
            <dd>The typedef's underlying value type.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt id="aa46343fd32f4c5b6edd66afe672fb934">
              <span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#aa46343fd32f4c5b6edd66afe672fb934">strong_typedef</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-info">defaulted</span></span>
            </dt>
            <dd>Default constructor.</dd>
            <dt id="a042d06865f22a97ca7a3266d40214f2d">
              <span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#a042d06865f22a97ca7a3266d40214f2d">strong_typedef</a>(</span><span class="m-doc-wrap">const <a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp;) <span class="m-label m-flat m-info">defaulted</span> <span class="m-label m-flat m-primary">constexpr</span></span>
            </dt>
            <dd>Copy constructor.</dd>
            <dt id="aa62b8919cfb675d952cdca1412c920b0">
              <span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#aa62b8919cfb675d952cdca1412c920b0">strong_typedef</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp;&amp;) <span class="m-label m-flat m-info">defaulted</span> <span class="m-label m-flat m-primary">constexpr</span></span>
            </dt>
            <dd>Move constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a class="m-doc" href="#a8c5a65c6ffa51e805908e9216dc43236">strong_typedef</a>(</span><span class="m-doc-wrap">const <a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a>&amp; val) <span class="m-label m-flat m-info">explicit</span>  <span class="m-label m-flat m-primary">constexpr</span> <span class="m-label m-flat m-success">noexcept(…)</span></span>
            </dt>
            <dd>Value copy constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a class="m-doc" href="#a638cd538826000b8bf7811013c6e6563">strong_typedef</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a>&amp;&amp; val) <span class="m-label m-flat m-info">explicit</span>  <span class="m-label m-flat m-primary">constexpr</span> <span class="m-label m-flat m-success">noexcept(…)</span></span>
            </dt>
            <dd>Value move constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a class="m-doc" href="#af46c74f39b0d125c8b647ae6e101ae91">strong_typedef</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a> val) <span class="m-label m-flat m-info">explicit</span>  <span class="m-label m-flat m-primary">constexpr</span> <span class="m-label m-flat m-success">noexcept</span></span>
            </dt>
            <dd>Value constructor.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt id="a5f294e025fdc2427df4851c5484707e0">
              <span class="m-doc-wrap-bumper">auto <a class="m-doc-self" href="#a5f294e025fdc2427df4851c5484707e0">operator=</a>(</span><span class="m-doc-wrap">const <a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp;) -&gt; <a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp; <span class="m-label m-flat m-info">defaulted</span></span>
            </dt>
            <dd>Copy-assignment operator.</dd>
            <dt id="a9973edc162334dd37de47d1032457077">
              <span class="m-doc-wrap-bumper">auto <a class="m-doc-self" href="#a9973edc162334dd37de47d1032457077">operator=</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp;&amp;) -&gt; <a class="m-doc" href="structmuu_1_1strong__typedef.html">strong_<wbr/>typedef</a>&amp; <span class="m-label m-flat m-info">defaulted</span></span>
            </dt>
            <dd>Move-assignment operator.</dd>
          </dl>
        </section>
        <section id="pub-attribs">
          <h2><a href="#pub-attribs">Public variables</a></h2>
          <dl class="m-doc">
            <dt id="ace7268948f4d2254f455fbff8989dbf5">
              <a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a> <a class="m-doc-self" href="#ace7268948f4d2254f455fbff8989dbf5">value</a>
            </dt>
            <dd>The underlying value stored in the typedef.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a8c5a65c6ffa51e805908e9216dc43236"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename ValueType, typename Tag, typename... Mixins&gt;
              </div>
              <span class="m-doc-wrap-bumper"> muu::<wbr/>strong_typedef&lt;ValueType, Tag, Mixins&gt;::<wbr/></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#a8c5a65c6ffa51e805908e9216dc43236">strong_typedef</a>(</span><span class="m-doc-wrap">const <a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a>&amp; val) <span class="m-label m-info">explicit</span>  <span class="m-label m-primary">constexpr</span> <span class="m-label m-success">noexcept(…)</span></span></span>
            </h3>
            <p>Value copy constructor.</p>
<aside class="m-block m-special"><h4>Conditional availability </h4><p>This constructor is only available when <code>value_type</code> is not a reference and is copy-constructible.</p></aside>
          </div></section>
          <section class="m-doc-details" id="a638cd538826000b8bf7811013c6e6563"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename ValueType, typename Tag, typename... Mixins&gt;
              </div>
              <span class="m-doc-wrap-bumper"> muu::<wbr/>strong_typedef&lt;ValueType, Tag, Mixins&gt;::<wbr/></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#a638cd538826000b8bf7811013c6e6563">strong_typedef</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a>&amp;&amp; val) <span class="m-label m-info">explicit</span>  <span class="m-label m-primary">constexpr</span> <span class="m-label m-success">noexcept(…)</span></span></span>
            </h3>
            <p>Value move constructor.</p>
<aside class="m-block m-special"><h4>Conditional availability </h4><p>This constructor is only available when <code>value_type</code> is not a reference and is move-constructible.</p></aside>
          </div></section>
          <section class="m-doc-details" id="af46c74f39b0d125c8b647ae6e101ae91"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename ValueType, typename Tag, typename... Mixins&gt;
              </div>
              <span class="m-doc-wrap-bumper"> muu::<wbr/>strong_typedef&lt;ValueType, Tag, Mixins&gt;::<wbr/></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a class="m-doc-self" href="#af46c74f39b0d125c8b647ae6e101ae91">strong_typedef</a>(</span><span class="m-doc-wrap"><a class="m-doc" href="structmuu_1_1strong__typedef.html#af62b3bc43d83a5f1dffdfa86a53afa0d">value_<wbr/>type</a> val) <span class="m-label m-info">explicit</span>  <span class="m-label m-primary">constexpr</span> <span class="m-label m-success">noexcept</span></span></span>
            </h3>
            <p>Value constructor.</p>
<aside class="m-block m-special"><h4>Conditional availability </h4><p>This constructor is only available when <code>value_type</code> is a reference.</p></aside>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">…</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input autocomplete="off" autofocus="autofocus" disabled="disabled" id="search-input" name="q" placeholder="Loading …" spellcheck="false" type="search"/>
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div class="m-text m-dim m-text-center" id="search-help">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">↓</span>
            / <span class="m-label m-dim">↑</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div class="m-text m-warning m-text-center" id="search-notfound">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script async="async" src="searchdata-v1.js"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        
    <a class="poxy-external" href="https://github.com/marzer/muu/" target="_blank">Github</a>
     • <a class="poxy-external" href="https://github.com/marzer/muu/issues" target="_blank">Report an issue</a>
     • <a class="poxy-external" href="https://github.com/marzer/muu/blob/master/LICENSE" target="_blank">License</a>
     • <a download="" href="muu.tagfile.xml" target="_blank" type="text/xml">Doxygen tagfile</a>
    <br/><br/>
    Site generated using <a class="poxy-external" href="https://github.com/marzer/poxy/" target="_blank">Poxy</a>

      </div>
    </div>
  </div>
</nav></footer>


</body></html>